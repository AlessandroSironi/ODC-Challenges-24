<?php
//From data.php
class QuoteGenerator {
  public $quoteFile = '/flag.txt'; // Path to the quotes file
  // Function to get a random quote
  function getRandomQuote() {
    // Load quotes file
    $quotes = file($this->quoteFile);
    if(!$quotes) {
        die("Failed to load quotes file.");
    }

    // Pick a random quote
    $quote = $quotes[array_rand($quotes)];
    return $quote;
}

function __toString(){
  return $this->getRandomQuote();
}
}
class Puppy{
  public $eyeColor, $eyeSize, $background, $quote;
  
  function __construct($quote){
    # RANDOMIZE
    $this->eyeColor = array(rand(0, 255), rand(0, 255), rand(0, 255));
    $this->eyeSize = rand(50, 100);
    $this->background = array(rand(0, 255), rand(0, 255), rand(0, 255));
    $this->quote = $quote;
  }

  function getImg(){
    $puppyGenerator = new PuppyGenerator();
    $puppyGenerator->generatePuppyImage($this->eyeColor, $this->eyeSize, $this->background, $this->quote);
  }

}

$quote = new QuoteGenerator();
$puppy = new Puppy($quote);

$serialized = serialize($puppy);
echo $serialized;
$base64 = base64_encode($serialized);
echo $base64;
//flag{what_a_nice_puppy_you_got!You_can_bring_him_home_now}
?> 

